<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PowerRoof — Solar Acquisition Intelligence</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,300..700;1,14..32,300..700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      /* Core palette — refined, not loud */
      --bg:        #0A1628;
      --bg-subtle: #0F1D33;
      --bg-card:   #142340;
      --bg-hover:  #1A2D4D;
      --border:    rgba(255,255,255,.06);
      --border-2:  rgba(255,255,255,.1);

      --text-primary:   #FAFAFA;
      --text-secondary: #A1A1AA;
      --text-tertiary:  #71717A;

      /* Accent — warm amber, pulled back to feel premium */
      --accent:      #F59E0B;
      --accent-soft: rgba(245,158,11,.12);
      --accent-glow: rgba(245,158,11,.06);

      /* Segment colors */
      --seg-1: #F59E0B;
      --seg-2: #06B6D4;
      --seg-3: #8B5CF6;
      --seg-4: #22C55E;

      /* Typography */
      --font: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --mono: 'JetBrains Mono', monospace;

      /* Spacing scale */
      --space-xs: 4px;
      --space-sm: 8px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;
      --space-2xl: 48px;
      --space-3xl: 64px;
      --space-4xl: 96px;
      --space-5xl: 128px;
    }

    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      background: var(--bg);
      color: var(--text-secondary);
      font-family: var(--font);
      font-size: 16px;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ─── UTILITIES ─── */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--space-xl);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-family: var(--mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: .06em;
      text-transform: uppercase;
      color: var(--accent);
      padding: 6px 14px;
      border: 1px solid var(--accent-soft);
      border-radius: 100px;
      background: var(--accent-glow);
    }
    .badge .dot {
      width: 6px; height: 6px;
      background: var(--accent);
      border-radius: 50%;
      animation: pulse 2.5s infinite;
    }

    /* ─── GRADIENT MESH BG ─── */
    .mesh-bg {
      position: fixed; inset: 0; z-index: 0; pointer-events: none;
      overflow: hidden;
    }
    .mesh-orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(120px);
      opacity: .35;
    }
    .mesh-orb.orb-1 {
      width: 800px; height: 800px;
      background: radial-gradient(circle, rgba(245,158,11,.18), transparent 70%);
      top: -200px; right: -200px;
      animation: float-slow 20s ease-in-out infinite;
    }
    .mesh-orb.orb-2 {
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(139,92,246,.12), transparent 70%);
      bottom: 20%; left: -100px;
      animation: float-slow 25s ease-in-out infinite reverse;
    }
    .mesh-orb.orb-3 {
      width: 500px; height: 500px;
      background: radial-gradient(circle, rgba(6,182,212,.1), transparent 70%);
      top: 50%; right: 10%;
      animation: float-slow 22s ease-in-out infinite;
    }

    @keyframes float-slow {
      0%, 100% { transform: translate(0, 0); }
      33% { transform: translate(30px, -20px); }
      66% { transform: translate(-20px, 15px); }
    }

    /* ─── NAV ─── */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      padding: 0 var(--space-xl);
      transition: all .3s ease;
    }
    nav.scrolled {
      background: rgba(10,22,40,.9);
      backdrop-filter: blur(20px) saturate(1.8);
      -webkit-backdrop-filter: blur(20px) saturate(1.8);
      border-bottom: 1px solid var(--border);
    }
    .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
    }
    .nav-logo {
      display: flex; align-items: center; gap: 10px;
      text-decoration: none;
      font-weight: 600; font-size: 17px;
      letter-spacing: -.01em;
      color: var(--text-primary);
    }
    .nav-logo svg { flex-shrink: 0; }
    .nav-logo span { color: var(--accent); }

    .nav-links {
      display: flex; gap: var(--space-xl); list-style: none;
    }
    .nav-links a {
      font-size: 14px; font-weight: 450;
      color: var(--text-tertiary);
      text-decoration: none;
      transition: color .2s;
    }
    .nav-links a:hover { color: var(--text-primary); }

    .nav-cta {
      font-size: 14px; font-weight: 500;
      color: var(--bg);
      background: var(--text-primary);
      padding: 8px 20px;
      border-radius: 8px;
      text-decoration: none;
      transition: all .2s;
    }
    .nav-cta:hover {
      background: #E4E4E7;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,.4);
    }

    /* ─── HERO ─── */
    .hero {
      position: relative; z-index: 1;
      min-height: 100vh;
      display: flex; align-items: center;
      padding: var(--space-5xl) 0 var(--space-4xl);
    }
    .hero .container {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--space-3xl);
      text-align: center;
      align-items: center;
    }
    .hero-content {
      display: flex; flex-direction: column;
      align-items: center;
    }

    .hero h1 {
      font-size: clamp(48px, 7vw, 80px);
      font-weight: 650;
      letter-spacing: -.035em;
      line-height: 1.05;
      color: var(--text-primary);
      margin-top: var(--space-lg);
      max-width: 800px;
    }
    .hero h1 .gradient-text {
      background: linear-gradient(135deg, var(--accent), #FBBF24, var(--accent));
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradient-shift 6s ease infinite;
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .hero-desc {
      margin-top: var(--space-lg);
      font-size: 18px;
      line-height: 1.7;
      color: var(--text-secondary);
      max-width: 580px;
    }

    .hero-ctas {
      display: flex; gap: 12px;
      margin-top: var(--space-2xl);
      flex-wrap: wrap;
      justify-content: center;
    }
    .btn-primary {
      display: inline-flex; align-items: center; gap: 8px;
      font-size: 15px; font-weight: 550;
      color: var(--bg);
      background: var(--text-primary);
      padding: 12px 28px;
      border-radius: 10px;
      text-decoration: none;
      border: none; cursor: pointer;
      transition: all .2s;
    }
    .btn-primary:hover {
      background: #E4E4E7;
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,.4);
    }
    .btn-ghost {
      display: inline-flex; align-items: center; gap: 8px;
      font-size: 15px; font-weight: 450;
      color: var(--text-secondary);
      background: transparent;
      padding: 12px 28px;
      border-radius: 10px;
      border: 1px solid var(--border-2);
      text-decoration: none;
      transition: all .2s;
    }
    .btn-ghost:hover {
      color: var(--text-primary);
      border-color: rgba(255,255,255,.2);
      background: rgba(255,255,255,.04);
    }

    /* Hero visual — product mockup panel */
    .hero-visual {
      margin-top: var(--space-3xl);
      position: relative;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: var(--bg-card);
      overflow: hidden;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.03),
        0 20px 60px -12px rgba(0,0,0,.5),
        0 0 120px rgba(245,158,11,.04);
    }
    .panel-chrome {
      display: flex; align-items: center; gap: 8px;
      padding: 14px 20px;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,.02);
    }
    .chrome-dot {
      width: 10px; height: 10px; border-radius: 50%;
      background: var(--border-2);
    }
    .chrome-url {
      flex: 1; text-align: center;
      font-family: var(--mono); font-size: 12px;
      color: var(--text-tertiary);
    }
    .panel-body {
      display: grid;
      grid-template-columns: 240px 1fr;
      min-height: 400px;
    }
    .panel-sidebar {
      border-right: 1px solid var(--border);
      padding: var(--space-lg);
      display: flex; flex-direction: column; gap: 4px;
    }
    .sidebar-item {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 12px;
      border-radius: 8px;
      font-size: 13px; font-weight: 450;
      color: var(--text-tertiary);
      transition: all .15s;
    }
    .sidebar-item.active {
      background: var(--accent-soft);
      color: var(--accent);
    }
    .sidebar-item svg {
      width: 16px; height: 16px;
      opacity: .6;
    }
    .sidebar-item.active svg { opacity: 1; }

    .panel-content {
      padding: var(--space-lg);
      display: flex; flex-direction: column; gap: var(--space-md);
    }
    .panel-row {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }
    .stat-card {
      background: rgba(255,255,255,.02);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px;
      transition: border-color .2s;
    }
    .stat-card:hover { border-color: var(--border-2); }
    .stat-label {
      font-size: 12px;
      color: var(--text-tertiary);
      margin-bottom: 8px;
    }
    .stat-value {
      font-size: 28px;
      font-weight: 650;
      letter-spacing: -.02em;
      color: var(--text-primary);
    }
    .stat-change {
      font-size: 12px;
      font-weight: 500;
      margin-top: 4px;
    }
    .stat-change.up { color: var(--seg-4); }
    .stat-change.down { color: #EF4444; }

    /* Mini table inside panel */
    .panel-table {
      width: 100%; border-collapse: collapse;
      font-size: 13px;
    }
    .panel-table th {
      text-align: left;
      padding: 10px 12px;
      font-size: 11px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: .05em;
      color: var(--text-tertiary);
      border-bottom: 1px solid var(--border);
    }
    .panel-table td {
      padding: 12px;
      border-bottom: 1px solid var(--border);
      color: var(--text-secondary);
    }
    .panel-table tr:hover td { background: rgba(255,255,255,.02); }
    .table-status {
      display: inline-flex;
      padding: 2px 10px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 500;
    }
    .table-status.active { background: rgba(34,197,94,.12); color: #22C55E; }
    .table-status.warming { background: rgba(6,182,212,.12); color: #06B6D4; }
    .table-status.scanning { background: rgba(139,92,246,.12); color: #8B5CF6; }
    .table-status.live { background: rgba(245,158,11,.12); color: #F59E0B; }

    .seg-dot {
      display: inline-block;
      width: 8px; height: 8px;
      border-radius: 50%;
      margin-right: 8px;
    }

    /* ─── LOGOS / TRUST BAR ─── */
    .trust-bar {
      position: relative; z-index: 1;
      padding: var(--space-4xl) 0;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      text-align: center;
    }
    .trust-label {
      font-size: 13px;
      font-weight: 450;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: .08em;
      margin-bottom: var(--space-2xl);
    }
    .trust-logos {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: var(--space-3xl);
      flex-wrap: wrap;
      opacity: .4;
    }
    .trust-logo-text {
      font-size: 20px;
      font-weight: 600;
      letter-spacing: -.02em;
      color: var(--text-primary);
    }

    /* ─── SECTIONS SHARED ─── */
    section {
      position: relative;
      z-index: 1;
    }
    .section-header {
      max-width: 640px;
    }
    .section-header.center {
      margin: 0 auto;
      text-align: center;
    }
    .section-title {
      font-size: clamp(36px, 4vw, 52px);
      font-weight: 650;
      letter-spacing: -.03em;
      line-height: 1.1;
      color: var(--text-primary);
      margin-top: var(--space-md);
    }
    .section-desc {
      font-size: 17px;
      line-height: 1.7;
      color: var(--text-secondary);
      margin-top: var(--space-md);
    }

    /* ─── SEGMENTS ─── */
    .segments {
      padding: var(--space-5xl) 0;
    }
    .seg-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1px;
      margin-top: var(--space-3xl);
      border-radius: 16px;
      overflow: hidden;
      background: var(--border);
    }
    .seg-card {
      background: var(--bg-card);
      padding: var(--space-2xl) var(--space-lg);
      position: relative;
      transition: background .25s;
    }
    .seg-card:hover { background: var(--bg-hover); }

    .seg-accent-bar {
      width: 32px; height: 3px;
      border-radius: 2px;
      margin-bottom: var(--space-lg);
    }
    .seg-card:nth-child(1) .seg-accent-bar { background: var(--seg-1); }
    .seg-card:nth-child(2) .seg-accent-bar { background: var(--seg-2); }
    .seg-card:nth-child(3) .seg-accent-bar { background: var(--seg-3); }
    .seg-card:nth-child(4) .seg-accent-bar { background: var(--seg-4); }

    .seg-label {
      font-family: var(--mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: .04em;
      text-transform: uppercase;
      margin-bottom: var(--space-sm);
    }
    .seg-card:nth-child(1) .seg-label { color: var(--seg-1); }
    .seg-card:nth-child(2) .seg-label { color: var(--seg-2); }
    .seg-card:nth-child(3) .seg-label { color: var(--seg-3); }
    .seg-card:nth-child(4) .seg-label { color: var(--seg-4); }

    .seg-name {
      font-size: 22px;
      font-weight: 600;
      letter-spacing: -.02em;
      color: var(--text-primary);
      line-height: 1.2;
      margin-bottom: var(--space-md);
    }
    .seg-desc {
      font-size: 14px;
      line-height: 1.65;
      color: var(--text-tertiary);
      margin-bottom: var(--space-lg);
    }
    .seg-specs {
      display: flex; flex-direction: column;
      gap: 0;
    }
    .seg-spec {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      padding: 10px 0;
      border-top: 1px solid var(--border);
      font-size: 12.5px;
    }
    .seg-spec .key { color: var(--text-tertiary); }
    .seg-spec .val { color: var(--text-secondary); font-weight: 500; text-align: right; }

    /* ─── METHOD ─── */
    .method {
      padding: var(--space-5xl) 0;
      border-top: 1px solid var(--border);
    }
    .method-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-lg);
      margin-top: var(--space-3xl);
    }
    .method-card {
      position: relative;
      padding: var(--space-2xl) var(--space-lg);
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      transition: all .25s;
    }
    .method-card:hover {
      border-color: var(--border-2);
      background: var(--bg-hover);
      transform: translateY(-4px);
      box-shadow: 0 20px 40px -12px rgba(0,0,0,.3);
    }
    .method-num {
      font-family: var(--mono);
      font-size: 12px;
      font-weight: 500;
      color: var(--accent);
      margin-bottom: var(--space-lg);
    }
    .method-icon {
      width: 40px; height: 40px;
      display: flex; align-items: center; justify-content: center;
      border-radius: 10px;
      background: var(--accent-soft);
      margin-bottom: var(--space-md);
    }
    .method-icon svg { width: 20px; height: 20px; color: var(--accent); }
    .method-title {
      font-size: 17px;
      font-weight: 600;
      letter-spacing: -.01em;
      color: var(--text-primary);
      margin-bottom: var(--space-sm);
    }
    .method-desc {
      font-size: 14px;
      line-height: 1.65;
      color: var(--text-tertiary);
    }

    /* ─── PIPELINE MACHINE ─── */
    .pipeline-wrap {
      margin-top: var(--space-3xl);
      position: relative;
      overflow: hidden;
      border-radius: 20px;
      background: linear-gradient(180deg, rgba(245,158,11,.02) 0%, transparent 100%);
      border: 1px solid var(--border);
      padding: 48px 32px 32px;
    }
    .pipeline-track {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-height: 260px;
    }
    /* connector line behind stations */
    .pipeline-line {
      position: absolute;
      top: 50%;
      left: 60px;
      right: 60px;
      height: 2px;
      background: var(--border);
      transform: translateY(-1px);
      z-index: 0;
    }
    .pipeline-line-fill {
      position: absolute;
      top: 0; left: 0;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent), #22C55E);
      border-radius: 2px;
      transition: width .6s ease;
    }
    /* individual station */
    .pipe-station {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 160px;
      opacity: 0;
      transform: translateY(12px);
      transition: opacity .5s ease, transform .5s ease;
    }
    .pipe-station.active {
      opacity: 1;
      transform: translateY(0);
    }
    .pipe-station.done .pipe-ring {
      border-color: var(--accent);
      box-shadow: 0 0 20px rgba(245,158,11,.2);
    }
    .pipe-ring {
      width: 72px; height: 72px;
      border-radius: 50%;
      border: 2px solid var(--border);
      background: var(--bg-card);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
      transition: border-color .4s, box-shadow .4s;
      position: relative;
      overflow: hidden;
    }
    .pipe-ring svg {
      width: 28px; height: 28px;
      color: var(--text-tertiary);
      transition: color .4s;
    }
    .pipe-station.active .pipe-ring svg,
    .pipe-station.done .pipe-ring svg {
      color: var(--accent);
    }
    /* mini animation inside each ring */
    .pipe-ring .ring-scan {
      position: absolute;
      top: 0; left: -100%;
      width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(245,158,11,.15), transparent);
      opacity: 0;
    }
    .pipe-station.processing .ring-scan {
      animation: ring-sweep .8s ease forwards;
    }
    @keyframes ring-sweep {
      0% { left: -100%; opacity: 1; }
      100% { left: 100%; opacity: 0; }
    }
    /* pulse ring on completion */
    .pipe-ring::after {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      border: 2px solid var(--accent);
      opacity: 0;
      transform: scale(.8);
    }
    .pipe-station.done .pipe-ring::after {
      animation: pipe-pulse .6s ease forwards;
    }
    @keyframes pipe-pulse {
      0% { opacity: .6; transform: scale(.9); }
      100% { opacity: 0; transform: scale(1.4); }
    }
    .pipe-label {
      font-family: var(--mono);
      font-size: 10px;
      font-weight: 600;
      letter-spacing: .06em;
      text-transform: uppercase;
      color: var(--text-tertiary);
      margin-bottom: 6px;
      transition: color .4s;
    }
    .pipe-station.active .pipe-label,
    .pipe-station.done .pipe-label {
      color: var(--accent);
    }
    .pipe-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
      text-align: center;
      margin-bottom: 4px;
    }
    .pipe-meta {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--text-tertiary);
      text-align: center;
      min-height: 18px;
      opacity: 0;
      transition: opacity .4s;
    }
    .pipe-station.done .pipe-meta {
      opacity: 1;
    }
    /* traveling particle */
    .pipe-particle {
      position: absolute;
      width: 8px; height: 8px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(245,158,11,.6);
      top: 50%;
      transform: translateY(-50%);
      z-index: 3;
      opacity: 0;
    }
    .pipe-particle.traveling {
      opacity: 1;
    }
    /* detail card that appears below */
    .pipe-detail {
      margin-top: 32px;
      padding: 20px 24px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 14px;
      display: flex;
      align-items: center;
      gap: 20px;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity .5s, transform .5s;
    }
    .pipe-detail.show {
      opacity: 1;
      transform: translateY(0);
    }
    .pipe-detail-icon {
      width: 44px; height: 44px;
      border-radius: 12px;
      background: rgba(34,197,94,.1);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    .pipe-detail-icon svg {
      width: 22px; height: 22px;
      color: #22C55E;
    }
    .pipe-detail-text {
      flex: 1;
    }
    .pipe-detail-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 2px;
    }
    .pipe-detail-sub {
      font-size: 13px;
      color: var(--text-tertiary);
      font-family: var(--mono);
    }
    .pipe-detail-badge {
      font-family: var(--mono);
      font-size: 11px;
      font-weight: 600;
      padding: 4px 12px;
      border-radius: 20px;
      background: rgba(34,197,94,.1);
      color: #22C55E;
      border: 1px solid rgba(34,197,94,.2);
      white-space: nowrap;
    }
    /* responsive */
    @media (max-width: 768px) {
      .pipeline-wrap { padding: 32px 16px 24px; }
      .pipeline-track { flex-direction: column; gap: 24px; min-height: auto; }
      .pipeline-line { display: none; }
      .pipe-station { width: 100%; flex-direction: row; gap: 16px; }
      .pipe-ring { width: 52px; height: 52px; margin-bottom: 0; flex-shrink: 0; }
      .pipe-ring svg { width: 22px; height: 22px; }
      .pipe-detail { flex-direction: column; text-align: center; }
    }

    /* ─── SOCIAL PROOF ─── */
    .proof {
      padding: var(--space-5xl) 0;
      border-top: 1px solid var(--border);
    }
    .proof-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-lg);
      margin-top: var(--space-3xl);
    }
    .proof-card {
      padding: var(--space-2xl);
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      display: flex; flex-direction: column;
      transition: all .25s;
    }
    .proof-card:hover {
      border-color: var(--border-2);
      transform: translateY(-2px);
    }
    .proof-stars {
      display: flex; gap: 2px;
      margin-bottom: var(--space-md);
      color: var(--accent);
      font-size: 14px;
    }
    .proof-text {
      font-size: 15px;
      line-height: 1.7;
      color: var(--text-secondary);
      flex: 1;
    }
    .proof-attr {
      margin-top: var(--space-lg);
      padding-top: var(--space-md);
      border-top: 1px solid var(--border);
    }
    .proof-name {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
    }
    .proof-role {
      font-size: 13px;
      color: var(--text-tertiary);
      margin-top: 2px;
    }

    /* ─── MODEL ─── */
    .model {
      padding: var(--space-5xl) 0;
      border-top: 1px solid var(--border);
    }
    .model-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-lg);
      margin-top: var(--space-3xl);
    }
    .model-card {
      position: relative;
      padding: var(--space-2xl);
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      transition: all .25s;
    }
    .model-card:hover {
      border-color: var(--border-2);
      transform: translateY(-2px);
    }
    .model-card.featured {
      border-color: rgba(245,158,11,.2);
      background: linear-gradient(180deg, rgba(245,158,11,.04) 0%, var(--bg-card) 100%);
    }
    .model-tag {
      display: inline-flex;
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: .04em;
      text-transform: uppercase;
      margin-bottom: var(--space-md);
    }
    .model-tag.billable {
      background: rgba(245,158,11,.12);
      color: var(--accent);
    }
    .model-tag.platform {
      background: rgba(255,255,255,.06);
      color: var(--text-tertiary);
    }
    .model-milestone {
      font-size: 22px;
      font-weight: 650;
      letter-spacing: -.02em;
      color: var(--text-primary);
      margin-bottom: var(--space-sm);
    }
    .model-trigger {
      font-size: 14px;
      line-height: 1.6;
      color: var(--text-tertiary);
      margin-bottom: var(--space-lg);
    }
    .model-verify {
      font-size: 13px;
      line-height: 1.6;
      color: var(--text-tertiary);
      padding-top: var(--space-md);
      border-top: 1px solid var(--border);
    }
    .model-verify strong {
      color: var(--text-secondary);
      font-weight: 500;
    }
    .model-note {
      margin-top: var(--space-2xl);
      text-align: center;
    }
    .model-note-inner {
      display: inline-flex;
      align-items: center;
      gap: var(--space-sm);
      padding: 12px 24px;
      border-radius: 100px;
      background: var(--accent-glow);
      border: 1px solid var(--accent-soft);
      font-size: 14px;
      font-weight: 500;
      color: var(--accent);
    }

    /* ─── CTA / CONTACT ─── */
    .cta-section {
      padding: var(--space-5xl) 0;
      border-top: 1px solid var(--border);
    }
    .cta-card {
      position: relative;
      padding: var(--space-4xl) var(--space-3xl);
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 24px;
      overflow: hidden;
      text-align: center;
    }
    .cta-card::before {
      content: '';
      position: absolute;
      top: -200px; left: 50%; transform: translateX(-50%);
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(245,158,11,.08), transparent 70%);
      pointer-events: none;
    }
    .cta-card h2 {
      position: relative;
      font-size: clamp(36px, 4vw, 56px);
      font-weight: 650;
      letter-spacing: -.03em;
      line-height: 1.1;
      color: var(--text-primary);
    }
    .cta-card p {
      position: relative;
      font-size: 17px;
      line-height: 1.7;
      color: var(--text-secondary);
      margin-top: var(--space-md);
      max-width: 500px;
      margin-left: auto; margin-right: auto;
    }

    .cta-form {
      position: relative;
      max-width: 640px;
      margin: var(--space-2xl) auto 0;
      display: flex; flex-direction: column;
      gap: 12px;
    }
    .cta-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .cta-input {
      width: 100%;
      padding: 14px 16px;
      background: rgba(255,255,255,.04);
      border: 1px solid var(--border-2);
      border-radius: 10px;
      color: var(--text-primary);
      font-family: var(--font);
      font-size: 14px;
      outline: none;
      transition: all .2s;
    }
    .cta-input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px var(--accent-soft);
    }
    .cta-input::placeholder { color: var(--text-tertiary); }
    select.cta-input { appearance: none; cursor: pointer; }
    textarea.cta-input { resize: vertical; min-height: 100px; }
    .cta-submit {
      width: 100%;
      padding: 14px;
      background: var(--text-primary);
      color: var(--bg);
      font-family: var(--font);
      font-size: 15px;
      font-weight: 600;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all .2s;
    }
    .cta-submit:hover {
      background: #E4E4E7;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,.3);
    }

    /* ─── FOOTER ─── */
    footer {
      position: relative; z-index: 1;
      border-top: 1px solid var(--border);
      padding: var(--space-2xl) 0;
    }
    .footer-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .footer-logo {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-tertiary);
      letter-spacing: -.01em;
    }
    .footer-logo span { color: var(--accent); }
    .footer-copy {
      font-size: 13px;
      color: var(--text-tertiary);
    }
    .footer-links {
      display: flex; gap: var(--space-lg);
    }
    .footer-links a {
      font-size: 13px;
      color: var(--text-tertiary);
      text-decoration: none;
      transition: color .2s;
    }
    .footer-links a:hover { color: var(--text-primary); }

    /* ─── DEMO ACCESS MODAL ─── */
    .modal-overlay {
      display: none;
      position: fixed; inset: 0;
      background: rgba(0,0,0,.75);
      backdrop-filter: blur(8px);
      z-index: 9999;
      align-items: center; justify-content: center;
    }
    .modal-overlay.active { display: flex; }
    .modal-box {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 40px;
      max-width: 400px;
      width: 90%;
      text-align: center;
    }
    .modal-box h3 {
      font-size: 18px; font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 6px;
    }
    .modal-box p {
      font-size: 13px;
      color: var(--text-tertiary);
      margin-bottom: 24px;
      line-height: 1.5;
    }
    .modal-input {
      width: 100%; box-sizing: border-box;
      padding: 12px 16px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 15px;
      font-family: inherit;
      letter-spacing: 2px;
      text-align: center;
      outline: none;
      transition: border-color .2s;
    }
    .modal-input:focus { border-color: var(--accent); }
    .modal-input.error { border-color: #EF4444; }
    .modal-error {
      font-size: 12px; color: #EF4444;
      margin-top: 8px; min-height: 18px;
    }
    .modal-submit {
      margin-top: 16px; width: 100%;
      padding: 12px;
      background: var(--accent);
      color: #000;
      border: none; border-radius: 8px;
      font-size: 14px; font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: background .2s;
    }
    .modal-submit:hover { background: #D97706; }
    .modal-close {
      position: absolute; top: 12px; right: 16px;
      background: none; border: none;
      color: var(--text-tertiary);
      font-size: 20px; cursor: pointer;
    }
    .modal-close:hover { color: var(--text-primary); }

    /* ─── SCROLL ANIMATIONS ─── */
    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity .8s cubic-bezier(.16,1,.3,1), transform .8s cubic-bezier(.16,1,.3,1);
    }
    .reveal.visible {
      opacity: 1;
      transform: none;
    }
    .reveal-d1 { transition-delay: .08s; }
    .reveal-d2 { transition-delay: .16s; }
    .reveal-d3 { transition-delay: .24s; }
    .reveal-d4 { transition-delay: .32s; }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: .4; }
    }

    /* ─── RESPONSIVE ─── */
    @media (max-width: 1024px) {
      .seg-grid { grid-template-columns: repeat(2, 1fr); }
      .method-grid { grid-template-columns: repeat(2, 1fr); }
      .panel-body { grid-template-columns: 1fr; }
      .panel-sidebar { display: none; }
    }
    @media (max-width: 768px) {
      :root {
        --space-xl: 20px;
      }
      .hero h1 { font-size: 40px; }
      .seg-grid { grid-template-columns: 1fr; }
      .method-grid { grid-template-columns: 1fr; }
      .proof-grid { grid-template-columns: 1fr; }
      .model-cards { grid-template-columns: 1fr !important; }
      .panel-row { grid-template-columns: repeat(2, 1fr); }
      .hero-ctas { flex-direction: column; align-items: stretch; }
      .cta-row { grid-template-columns: 1fr; }
      .footer-inner { flex-direction: column; gap: var(--space-md); text-align: center; }
      .nav-links { display: none; }
    }
  </style>
</head>
<body>

<div class="mesh-bg">
  <div class="mesh-orb orb-1"></div>
  <div class="mesh-orb orb-2"></div>
  <div class="mesh-orb orb-3"></div>
</div>

<!-- ─── NAV ─── -->
<nav id="nav">
  <div class="nav-inner">
    <a href="#" class="nav-logo">
      <svg width="26" height="26" viewBox="0 0 26 26" fill="none">
        <path d="M3 14L13 5L23 14" stroke="#F59E0B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <rect x="6" y="14" width="14" height="10" rx="1" stroke="#F59E0B" stroke-width="1.5" opacity="0.3"/>
        <path d="M14 13L11 18H15L12 23" stroke="#F59E0B" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Power<span>Roof</span>
    </a>
    <ul class="nav-links">
      <li><a href="/intelligence" style="color:var(--accent);font-weight:550">Intelligence Library</a></li>
      <li><a href="#modules">Modules</a></li>
      <li><a href="#method">Method</a></li>
      <li><a href="/simulator.html">Simulator</a></li>
      <li><a href="#model">Pricing</a></li>
    </ul>
    <a href="#contact" class="nav-cta">Request Dossier</a>
  </div>
</nav>

<!-- ─── HERO ─── -->
<section class="hero">
  <div class="container">
    <div class="hero-content">
      <div class="badge"><span class="dot"></span> Solar ATAP framework · Analytical intelligence for C&I</div>

      <h1>Energy intelligence<br>for <span class="gradient-text">every roof</span> in Malaysia</h1>

      <p class="hero-desc">ATAP eligibility screening, SMP exposure modelling, load-matched sizing, and 25-year indicative financial projection — compiled into facility-specific intelligence dossiers for C&I decision-makers.</p>

      <div class="hero-ctas">
        <a href="#contact" class="btn-primary">Request Intelligence Dossier <span>→</span></a>
        <a href="/intelligence" class="btn-ghost" style="border-color:rgba(245,158,11,.25);color:var(--accent);">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" style="margin-right:2px"><path d="M2 3h12M2 7h8M2 11h10M2 15h6"/></svg>
          Intelligence Library
        </a>
        <a href="/simulator.html" class="btn-ghost">Run ATAP Simulator</a>
      </div>
    </div>

    <!-- Animated Roof Scanner Hero Visual -->
    <div class="hero-visual reveal" id="scanner-visual" style="min-height:460px;position:relative;overflow:hidden">
      <style>
        /* Scanner-specific animations */
        @keyframes scan-sweep{0%{transform:translateX(-100%)}100%{transform:translateX(800px)}}
        @keyframes dot-appear{0%{transform:scale(0);opacity:0}60%{transform:scale(1.3);opacity:1}100%{transform:scale(1);opacity:1}}
        @keyframes badge-pop{0%{transform:scale(0) translateY(4px);opacity:0}70%{transform:scale(1.15) translateY(-2px);opacity:1}100%{transform:scale(1) translateY(0);opacity:1}}
        @keyframes ring-pulse{0%{transform:scale(1);opacity:.6}100%{transform:scale(2.5);opacity:0}}
        @keyframes card-enter{0%{transform:translateY(20px) scale(.95);opacity:0}100%{transform:translateY(0) scale(1);opacity:1}}
        @keyframes zone-glow{0%{opacity:.03}50%{opacity:.08}100%{opacity:.03}}
        @keyframes status-slide{0%{transform:translateX(-8px);opacity:0}100%{transform:translateX(0);opacity:1}}
        @keyframes line-draw{0%{stroke-dashoffset:200}100%{stroke-dashoffset:0}}
        @keyframes counter-blink{0%,100%{opacity:1}50%{opacity:.4}}
        .scanner-phase{position:absolute;inset:0;transition:opacity .6s ease,transform .6s ease}
        .scanner-phase.hidden{opacity:0;pointer-events:none;transform:scale(1.02)}
        .factory-dot{position:absolute;width:10px;height:10px;border-radius:50%;background:#F59E0B;opacity:0;z-index:5}
        .factory-dot.discovered{animation:dot-appear .4s ease forwards}
        .factory-dot .ring{position:absolute;inset:-4px;border:1.5px solid #F59E0B;border-radius:50%;animation:ring-pulse 1.5s ease-out infinite}
        .score-badge{position:absolute;top:-22px;left:50%;transform:translateX(-50%) scale(0);font-size:10px;font-weight:700;padding:2px 7px;border-radius:8px;white-space:nowrap;opacity:0;z-index:6}
        .score-badge.visible{animation:badge-pop .35s ease forwards}
        .zone-label{position:absolute;font-size:10px;color:rgba(255,255,255,.25);font-weight:500;letter-spacing:.5px;z-index:2}
        .scan-beam{position:absolute;top:0;bottom:0;width:3px;background:linear-gradient(180deg,transparent,#F59E0B,transparent);z-index:10;opacity:0;box-shadow:0 0 20px 8px rgba(245,158,11,.15),0 0 60px 20px rgba(245,158,11,.06)}
        .scan-beam.active{opacity:1;animation:scan-sweep 2.5s ease-in-out forwards}
        /* Intel card */
        .intel-card{background:var(--bg-card);border:1px solid var(--border-2);border-radius:14px;padding:0;max-width:400px;margin:0 auto;overflow:hidden;opacity:0;transform:translateY(20px) scale(.95)}
        .intel-card.visible{animation:card-enter .5s ease forwards}
        .intel-header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
        .intel-body{padding:20px}
        .intel-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border);font-size:13px}
        .intel-row:last-child{border-bottom:none}
        .intel-row .k{color:var(--text-tertiary)}
        .intel-row .v{color:var(--text-primary);font-weight:500;text-align:right}
        .intel-status{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;border-radius:8px;font-size:12px;font-weight:600;opacity:0}
        .intel-status.visible{animation:status-slide .4s ease forwards}
        /* Map grid lines */
        .map-grid{position:absolute;inset:0;z-index:1;opacity:.4}
        /* Counter bar */
        .counter-bar{position:absolute;bottom:0;left:0;right:0;padding:10px 20px;background:rgba(9,9,11,.9);border-top:1px solid var(--border);display:flex;gap:24px;font-size:11px;z-index:20}
        .counter-item{display:flex;align-items:center;gap:6px;color:var(--text-tertiary)}
        .counter-item .num{color:#F59E0B;font-weight:700;font-family:var(--mono)}
      </style>

      <!-- PHASE 1: Map Scanner -->
      <div class="scanner-phase" id="phase-map">
        <!-- SVG Map grid background -->
        <svg class="map-grid" viewBox="0 0 800 460" preserveAspectRatio="none">
          <defs>
            <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
              <path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,.04)" stroke-width=".5"/>
            </pattern>
          </defs>
          <rect width="800" height="460" fill="url(#grid)"/>
          <!-- Selangor outline (simplified) -->
          <path d="M200,120 L320,80 L480,90 L580,140 L620,220 L600,320 L500,380 L350,390 L220,340 L180,260 Z"
            fill="none" stroke="rgba(245,158,11,.12)" stroke-width="1.5" stroke-dasharray="4,3"/>
          <!-- Zone areas (subtle fills) -->
          <ellipse cx="310" cy="180" rx="70" ry="50" fill="rgba(245,158,11,.03)" style="animation:zone-glow 3s ease infinite"/>
          <ellipse cx="440" cy="220" rx="60" ry="45" fill="rgba(6,182,212,.03)" style="animation:zone-glow 3s ease infinite .5s"/>
          <ellipse cx="380" cy="310" rx="55" ry="40" fill="rgba(139,92,246,.03)" style="animation:zone-glow 3s ease infinite 1s"/>
          <ellipse cx="520" cy="170" rx="50" ry="40" fill="rgba(34,197,94,.03)" style="animation:zone-glow 3s ease infinite 1.5s"/>
          <!-- Connection lines (draw later) -->
          <line id="conn1" x1="310" y1="180" x2="440" y2="220" stroke="rgba(245,158,11,.15)" stroke-width=".5" stroke-dasharray="200" stroke-dashoffset="200"/>
          <line id="conn2" x1="440" y1="220" x2="380" y2="310" stroke="rgba(245,158,11,.15)" stroke-width=".5" stroke-dasharray="200" stroke-dashoffset="200"/>
          <line id="conn3" x1="310" y1="180" x2="520" y2="170" stroke="rgba(245,158,11,.15)" stroke-width=".5" stroke-dasharray="200" stroke-dashoffset="200"/>
        </svg>

        <!-- Zone labels -->
        <div class="zone-label" style="top:25%;left:30%">SHAH ALAM</div>
        <div class="zone-label" style="top:42%;left:48%">KLANG</div>
        <div class="zone-label" style="top:62%;left:38%">PJ</div>
        <div class="zone-label" style="top:30%;left:58%">SUBANG</div>
        <div class="zone-label" style="top:52%;left:22%">PORT KLANG</div>

        <!-- Scan beam -->
        <div class="scan-beam" id="scan-beam"></div>

        <!-- Factory dots — positioned at zone centers -->
        <div class="factory-dot" id="dot1" style="top:38%;left:35%">
          <div class="ring"></div>
          <div class="score-badge" style="background:#166534;color:#fff">82 · Mega Plastics</div>
        </div>
        <div class="factory-dot" id="dot2" style="top:47%;left:52%">
          <div class="ring"></div>
          <div class="score-badge" style="background:#166534;color:#fff">78 · Klang Metal</div>
        </div>
        <div class="factory-dot" id="dot3" style="top:65%;left:42%">
          <div class="ring"></div>
          <div class="score-badge" style="background:#166534;color:#fff">75 · PJ Packaging</div>
        </div>
        <div class="factory-dot" id="dot4" style="top:35%;left:62%">
          <div class="ring"></div>
          <div class="score-badge" style="background:#92400E;color:#fff">68 · Subang Food</div>
        </div>
        <div class="factory-dot" id="dot5" style="top:55%;left:28%">
          <div class="ring"></div>
          <div class="score-badge" style="background:#166534;color:#fff">71 · Port Klang Mfg</div>
        </div>

        <!-- Scanning status bar -->
        <div class="counter-bar" id="counter-bar" style="opacity:0">
          <div class="counter-item">SCANNING <span class="num" id="cnt-zones">0</span>/15 zones</div>
          <div class="counter-item">DISCOVERED <span class="num" id="cnt-factories">0</span> factories</div>
          <div class="counter-item">ATAP ELIGIBLE <span class="num" id="cnt-eligible">0</span></div>
          <div class="counter-item" style="margin-left:auto;color:var(--accent)">
            <span style="display:inline-block;width:6px;height:6px;background:#F59E0B;border-radius:50%;animation:counter-blink 1s infinite"></span>
            LIVE
          </div>
        </div>
      </div>

      <!-- PHASE 2: Intelligence Card (zoomed in) -->
      <div class="scanner-phase hidden" id="phase-card" style="display:flex;align-items:center;justify-content:center;padding:24px">
        <div class="intel-card" id="intel-card">
          <div class="intel-header">
            <div>
              <div style="font-size:16px;font-weight:650;color:var(--text-primary)">Mega Plastics Sdn Bhd</div>
              <div style="font-size:12px;color:var(--text-tertiary);margin-top:2px">Shah Alam · Plastics Manufacturing</div>
            </div>
            <div style="background:#166534;color:#fff;padding:4px 10px;border-radius:8px;font-size:18px;font-weight:700">82</div>
          </div>
          <div class="intel-body">
            <div class="intel-row"><span class="k">Optimal System Size</span><span class="v">280 kWp</span></div>
            <div class="intel-row"><span class="k">Annual Savings</span><span class="v" style="color:#22C55E">RM 97,400</span></div>
            <div class="intel-row"><span class="k">Payback Period</span><span class="v">5.8 years</span></div>
            <div class="intel-row"><span class="k">Self-Consumption</span><span class="v">82%</span></div>
            <div class="intel-row"><span class="k">Decision Maker</span><span class="v">En. Ahmad Razak, Director</span></div>
            <div class="intel-row"><span class="k">ATAP Compliance</span><span class="v" style="color:#22C55E">✓ Eligible</span></div>
            <div style="margin-top:14px;display:flex;gap:8px;align-items:center">
              <div class="intel-status" id="intel-status" style="background:rgba(34,197,94,.12);color:#22C55E">
                <span style="width:6px;height:6px;background:#22C55E;border-radius:50%;display:inline-block"></span>
                Survey Ready — Site visit booked
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
    // ─── Roof Scanner Animation Engine ───
    (function(){
      const CYCLE=10000; // 10s total cycle
      let running=true;

      function runCycle(){
        if(!running) return;
        const dots=document.querySelectorAll('.factory-dot');
        const badges=document.querySelectorAll('.score-badge');
        const beam=document.getElementById('scan-beam');
        const bar=document.getElementById('counter-bar');
        const phaseMap=document.getElementById('phase-map');
        const phaseCard=document.getElementById('phase-card');
        const card=document.getElementById('intel-card');
        const status=document.getElementById('intel-status');
        const conns=[document.getElementById('conn1'),document.getElementById('conn2'),document.getElementById('conn3')];

        // Reset everything
        dots.forEach(d=>{d.classList.remove('discovered');d.style.background='#F59E0B'});
        badges.forEach(b=>b.classList.remove('visible'));
        beam.classList.remove('active');
        bar.style.opacity='0';
        phaseMap.classList.remove('hidden');
        phaseCard.classList.add('hidden');
        card.classList.remove('visible');
        status.classList.remove('visible');
        conns.forEach(c=>{c.style.strokeDashoffset='200'});
        document.getElementById('cnt-zones').textContent='0';
        document.getElementById('cnt-factories').textContent='0';
        document.getElementById('cnt-eligible').textContent='0';

        // T=0.3s: Show counter bar, start scan beam
        setTimeout(()=>{
          bar.style.opacity='1';
          bar.style.transition='opacity .3s';
          beam.classList.add('active');
        },300);

        // T=0.8s–2.5s: Discover dots sequentially
        const dotOrder=[0,3,1,4,2];
        const factories=[0,1,2,3,4];
        dotOrder.forEach((idx,i)=>{
          setTimeout(()=>{
            dots[idx].classList.add('discovered');
            // Count up
            document.getElementById('cnt-zones').textContent=Math.min(15,3+i*3);
            document.getElementById('cnt-factories').textContent=(i+1)*32+1;
            document.getElementById('cnt-eligible').textContent=Math.round((i+1)*19);
          },800+i*400);
        });

        // T=2.8s–4.2s: Score badges appear
        dotOrder.forEach((idx,i)=>{
          setTimeout(()=>{
            badges[idx].classList.add('visible');
          },2800+i*300);
        });

        // T=3.5s: Draw connection lines
        setTimeout(()=>{
          conns.forEach(c=>{c.style.transition='stroke-dashoffset 1s ease';c.style.strokeDashoffset='0'});
        },3500);

        // T=4.5s: Final counter values
        setTimeout(()=>{
          document.getElementById('cnt-zones').textContent='15';
          document.getElementById('cnt-factories').textContent='161';
          document.getElementById('cnt-eligible').textContent='94';
        },4500);

        // T=5.5s: Transition to intelligence card
        setTimeout(()=>{
          phaseMap.classList.add('hidden');
          setTimeout(()=>{
            phaseCard.classList.remove('hidden');
            setTimeout(()=>card.classList.add('visible'),100);
            setTimeout(()=>status.classList.add('visible'),600);
          },400);
        },5500);

        // T=9.5s: Start next cycle
        setTimeout(()=>runCycle(),CYCLE);
      }

      // Start when visible
      const obs=new IntersectionObserver(entries=>{
        if(entries[0].isIntersecting){runCycle();obs.disconnect()}
      },{threshold:.3});
      obs.observe(document.getElementById('scanner-visual'));
    })();
    </script>
  </div>
</section>

<!-- ─── TRUST BAR ─── -->
<div class="trust-bar">
  <div class="container">
    <div class="trust-label">Analytical intelligence platform covering</div>
    <div class="trust-logos">
      <span class="trust-logo-text">ATAP Policy</span>
      <span class="trust-logo-text">SMP Modelling</span>
      <span class="trust-logo-text">Load Matching</span>
      <span class="trust-logo-text">Export Risk</span>
      <span class="trust-logo-text">Financial Projection</span>
      <span class="trust-logo-text">Carbon Displacement</span>
    </div>
  </div>
</div>

<!-- ─── PLATFORM MODULES ─── -->
<section class="segments" id="modules">
  <div class="container">
    <div class="section-header center reveal">
      <div class="badge">3 product layers</div>
      <h2 class="section-title">Analytical modelling,<br>not advisory services</h2>
      <p class="section-desc">PowerRoof is an analytical intelligence platform — not an engineering firm, not a financial advisor, and not a performance guarantor. Three product layers serve different decision stages.</p>
    </div>

    <div class="seg-grid" style="grid-template-columns: repeat(3, 1fr);">
      <div class="seg-card reveal reveal-d1">
        <div class="seg-accent-bar"></div>
        <div class="seg-label">Layer 01</div>
        <div class="seg-name">Intelligence<br>Library</div>
        <p class="seg-desc">ATAP-era policy analysis, SMP mechanics, financial modelling frameworks, and sector-specific load profile intelligence — structured for C&I executives, not engineers.</p>
        <div class="seg-specs">
          <div class="seg-spec"><span class="key">Content</span><span class="val">Policy · Financial · Technical</span></div>
          <div class="seg-spec"><span class="key">Audience</span><span class="val">CFOs · MDs · Facility Mgrs</span></div>
          <div class="seg-spec"><span class="key">Format</span><span class="val">Long-form analysis</span></div>
          <div class="seg-spec"><span class="key">Access</span><span class="val">Open · No login required</span></div>
          <div class="seg-spec"><span class="key">Legal</span><span class="val">Informational only</span></div>
        </div>
      </div>

      <div class="seg-card reveal reveal-d2">
        <div class="seg-accent-bar"></div>
        <div class="seg-label">Layer 02</div>
        <div class="seg-name">ATAP Exposure<br>Simulator</div>
        <p class="seg-desc">Indicative modelling tool for self-consumption ratio, SMP sensitivity, export forfeiture risk, and payback range — based on user-provided inputs and prevailing market assumptions.</p>
        <div class="seg-specs">
          <div class="seg-spec"><span class="key">Inputs</span><span class="val">MD · Bill · Operating hours</span></div>
          <div class="seg-spec"><span class="key">Outputs</span><span class="val">Indicative projections only</span></div>
          <div class="seg-spec"><span class="key">SMP Data</span><span class="val">Single Buyer MY (published)</span></div>
          <div class="seg-spec"><span class="key">Access</span><span class="val">Free · Disclaimer visible</span></div>
          <div class="seg-spec"><span class="key">Legal</span><span class="val">Not investment advice</span></div>
        </div>
      </div>

      <div class="seg-card reveal reveal-d3" style="border-left: 1px solid rgba(245,158,11,.15);">
        <div class="seg-accent-bar"></div>
        <div class="seg-label">Layer 03</div>
        <div class="seg-name">Intelligence<br>Dossier</div>
        <p class="seg-desc">Facility-specific pre-engineering analytical assessment: ATAP eligibility, load-matched sizing, SMP exposure envelope, 25-year indicative cashflow, and carbon displacement estimate.</p>
        <div class="seg-specs">
          <div class="seg-spec"><span class="key">Scope</span><span class="val">Pre-engineering analysis</span></div>
          <div class="seg-spec"><span class="key">Tiers</span><span class="val">Basic · Pro · Premium</span></div>
          <div class="seg-spec"><span class="key">Delivery</span><span class="val">5–7 business days</span></div>
          <div class="seg-spec"><span class="key">Fee</span><span class="val">From RM 2,000</span></div>
          <div class="seg-spec"><span class="key">Legal</span><span class="val">Liability capped at fee</span></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ─── ATAP SECTION ─── -->
<section class="method" id="atap" style="border-top: 1px solid var(--border);">
  <div class="container">
    <div class="section-header center reveal">
      <div class="badge" style="color: #22C55E; border-color: rgba(34,197,94,.2); background: rgba(34,197,94,.06);">Solar ATAP Ready</div>
      <h2 class="section-title">Built for the<br>new ATAP rules</h2>
      <p class="section-desc">Effective January 2026, Solar ATAP replaces NEM 3.0 with SMP-based export credits and stricter eligibility. Every prospect we deliver is pre-screened against the new framework.</p>
    </div>

    <div class="method-grid" style="grid-template-columns: repeat(3, 1fr);">
      <div class="method-card reveal reveal-d1">
        <div class="method-num" style="color: #22C55E;">GATE</div>
        <div class="method-title">Eligibility Screening</div>
        <p class="method-desc">Multi-tenant exclusion, 1MW MD cap, ownership verification, operating hours analysis. We filter before you waste a site visit on an ineligible building.</p>
      </div>

      <div class="method-card reveal reveal-d2">
        <div class="method-num" style="color: #06B6D4;">SCORE</div>
        <div class="method-title">ATAP Fit Score</div>
        <p class="method-desc">8-signal weighted model: sector, zone, bill band, roof size, MD sweet spot, operating hours, tenant structure, ownership. Prioritizes highest-close-probability leads.</p>
      </div>

      <div class="method-card reveal reveal-d3">
        <div class="method-num" style="color: var(--accent);">REPORT</div>
        <div class="method-title">Pre-Survey Report</div>
        <p class="method-desc">Optimal kWp sizing at 75–85% of MD to minimize monthly forfeiture. SMP sensitivity analysis. CAPEX range at RM1,800–2,200/kWp. You arrive at the site visit with the numbers already done.</p>
      </div>
    </div>
  </div>
</section>

<!-- ─── METHOD ─── -->
<section class="method" id="method">
  <div class="container">
    <div class="section-header center reveal">
      <div class="badge">The method</div>
      <h2 class="section-title">Systematic, not<br>spray and pray</h2>
      <p class="section-desc">Industrial prospects get outbound. Residential gets inbound. Both flow through one qualified pipeline — ATAP-screened, scored, appointment-ready.</p>
    </div>

    <!-- Pipeline Machine Animation -->
    <div class="pipeline-wrap" id="pipeline-machine">
      <div class="pipeline-track">
        <!-- connector line -->
        <div class="pipeline-line">
          <div class="pipeline-line-fill" id="pipe-fill"></div>
        </div>
        <!-- traveling particle -->
        <div class="pipe-particle" id="pipe-particle"></div>

        <!-- Station 1: Discover -->
        <div class="pipe-station" id="ps-1">
          <div class="pipe-ring">
            <div class="ring-scan"></div>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="9"/><circle cx="12" cy="12" r="3.5"/><line x1="12" y1="3" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="21"/><line x1="3" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="21" y2="12"/></svg>
          </div>
          <div class="pipe-label">SCAN</div>
          <div class="pipe-title">Discover the building</div>
          <div class="pipe-meta" id="pm-1">Shah Alam · 47 factories</div>
        </div>

        <!-- Station 2: Find -->
        <div class="pipe-station" id="ps-2">
          <div class="pipe-ring">
            <div class="ring-scan"></div>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="7" r="4.5"/><path d="M4 21c0-4 3.6-7 8-7s8 3 8 7"/></svg>
          </div>
          <div class="pipe-label">SSM</div>
          <div class="pipe-title">Find decision maker</div>
          <div class="pipe-meta" id="pm-2">Ahmad bin Hassan · Director</div>
        </div>

        <!-- Station 3: Qualify -->
        <div class="pipe-station" id="ps-3">
          <div class="pipe-ring">
            <div class="ring-scan"></div>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M5 12l5 5L19 7"/><rect x="2" y="2" width="20" height="20" rx="4"/></svg>
          </div>
          <div class="pipe-label">SCORE</div>
          <div class="pipe-title">Qualify the prospect</div>
          <div class="pipe-meta" id="pm-3">Fit Score: 82 · Tier A</div>
        </div>

        <!-- Station 4: Book -->
        <div class="pipe-station" id="ps-4">
          <div class="pipe-ring">
            <div class="ring-scan"></div>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="4" width="18" height="16" rx="2.5"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="8" y1="4" x2="8" y2="9"/><line x1="16" y1="4" x2="16" y2="9"/><path d="M9 14l2 2 4-4" stroke-width="2"/></svg>
          </div>
          <div class="pipe-label">BOOK</div>
          <div class="pipe-title">Book the appointment</div>
          <div class="pipe-meta" id="pm-4">Site visit · 3 Mar 2026</div>
        </div>
      </div>

      <!-- Result card -->
      <div class="pipe-detail" id="pipe-result">
        <div class="pipe-detail-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12l5 5L19 7"/></svg>
        </div>
        <div class="pipe-detail-text">
          <div class="pipe-detail-title">Mega Plastics Sdn Bhd</div>
          <div class="pipe-detail-sub">280 kWp · RM 97,400/yr savings · 5.8yr payback</div>
        </div>
        <div class="pipe-detail-badge">Appointment Confirmed</div>
      </div>
    </div>
  </div>
</section>

<script>
(function(){
  var CYCLE = 10000;
  var machine = document.getElementById('pipeline-machine');
  if (!machine) return;

  var stations = [
    document.getElementById('ps-1'),
    document.getElementById('ps-2'),
    document.getElementById('ps-3'),
    document.getElementById('ps-4')
  ];
  var fill = document.getElementById('pipe-fill');
  var particle = document.getElementById('pipe-particle');
  var result = document.getElementById('pipe-result');

  function reset() {
    stations.forEach(function(s) {
      s.classList.remove('active', 'done', 'processing');
    });
    fill.style.width = '0%';
    particle.classList.remove('traveling');
    particle.style.left = '60px';
    result.classList.remove('show');
  }

  function activateStation(idx, delay) {
    setTimeout(function() {
      // processing sweep
      stations[idx].classList.add('active', 'processing');
      setTimeout(function() {
        stations[idx].classList.remove('processing');
        stations[idx].classList.add('done');
        // advance fill line
        var pct = ((idx + 1) / 4) * 100;
        fill.style.width = pct + '%';
      }, 600);
    }, delay);
  }

  function moveParticle(fromPct, toPct, duration, delay) {
    setTimeout(function() {
      particle.classList.add('traveling');
      particle.style.transition = 'left ' + duration + 'ms ease';
      particle.style.left = 'calc(' + toPct + '% - 4px)';
    }, delay);
  }

  function runCycle() {
    reset();

    // T=0.2s — Station 1 lights up
    activateStation(0, 200);
    // T=1.4s — particle travels to station 2
    moveParticle(5, 33, 500, 1200);
    // T=1.8s — Station 2 lights up
    activateStation(1, 1800);
    // T=3.2s — particle travels to station 3
    moveParticle(33, 63, 500, 3000);
    // T=3.6s — Station 3 lights up
    activateStation(2, 3600);
    // T=5.0s — particle travels to station 4
    moveParticle(63, 93, 500, 4800);
    // T=5.4s — Station 4 lights up
    activateStation(3, 5400);
    // T=6.4s — hide particle, show result card
    setTimeout(function() {
      particle.classList.remove('traveling');
      result.classList.add('show');
    }, 6400);
    // T=9.5s — loop
    setTimeout(function() { runCycle(); }, CYCLE);
  }

  var obs = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) {
      runCycle();
      obs.disconnect();
    }
  }, { threshold: 0.25 });
  obs.observe(machine);
})();
</script>

<!-- ─── PROOF ─── -->
<section class="proof">
  <div class="container">
    <div class="section-header center reveal">
      <div class="badge">Why PowerRoof</div>
      <h2 class="section-title">Analytical depth that<br>builds institutional trust</h2>
      <p class="section-desc">PowerRoof delivers the intelligence layer that sophisticated CFOs expect before committing capital — structured disclaimers, source attribution, and assumption transparency included.</p>
    </div>

    <div class="proof-grid">
      <div class="proof-card reveal reveal-d1">
        <div class="proof-stars" style="color:var(--seg-2)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 12l2 2 4-4"/><rect x="2" y="2" width="20" height="20" rx="4"/></svg>
        </div>
        <p class="proof-text">Every projection states its assumptions. SMP values are date-stamped with source attribution. Sensitivity ranges — not point estimates — are the standard output format.</p>
        <div class="proof-attr">
          <div class="proof-name">Assumption Transparency</div>
          <div class="proof-role">All dossiers include an Assumption Appendix</div>
        </div>
      </div>

      <div class="proof-card reveal reveal-d2">
        <div class="proof-stars" style="color:var(--seg-4)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        </div>
        <p class="proof-text">Structured legal framework: Website Disclaimer, Simulation Disclaimer, Dossier Scope Statement, Terms of Use, and PDPA Privacy Policy — each mapped to a specific platform layer.</p>
        <div class="proof-attr">
          <div class="proof-name">7-Document Legal Stack</div>
          <div class="proof-role">Pre-engineering scope definition at every layer</div>
        </div>
      </div>

      <div class="proof-card reveal reveal-d3">
        <div class="proof-stars" style="color:var(--accent)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
        </div>
        <p class="proof-text">Voltek Energy pilot in progress — 3 dossier tiers delivered with satellite imagery, SMP volatility modelling, and load-matched sizing. Pre-engineering analysis, not EPC quotation.</p>
        <div class="proof-attr">
          <div class="proof-name">Voltek Energy Partnership</div>
          <div class="proof-role">Pilot Client — C&I Rooftop Solar, Selangor</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ─── MODEL ─── -->
<section class="model" id="model">
  <div class="container">
    <div class="section-header center reveal">
      <div class="badge">Revenue model</div>
      <h2 class="section-title">Pay when we deliver</h2>
      <p class="section-desc">Four milestones. Zero retainer. Your money moves only when ours does.</p>
    </div>

    <div class="model-cards" style="grid-template-columns: repeat(4, 1fr);">
      <div class="model-card reveal reveal-d1">
        <div class="model-tag billable">Billable</div>
        <div class="model-milestone">Appointment Confirmed</div>
        <p class="model-trigger">Decision-maker agrees to site visit. Date and time locked with your team.</p>
        <div class="model-verify"><strong>Verification:</strong> Calendar invite from verified PIC received by your sales team.</div>
      </div>

      <div class="model-card reveal reveal-d2">
        <div class="model-tag billable">Billable</div>
        <div class="model-milestone">ATAP Pre-Survey Report</div>
        <p class="model-trigger">Energy snapshot delivered before the site visit: optimal kWp sizing, SMP sensitivity, CAPEX estimate, forfeiture risk analysis.</p>
        <div class="model-verify"><strong>Verification:</strong> PDF report delivered to your sales team before the scheduled site visit date. C&I only.</div>
      </div>

      <div class="model-card featured reveal reveal-d3">
        <div class="model-tag billable">Billable</div>
        <div class="model-milestone">Site Survey Complete</div>
        <p class="model-trigger">Your team finishes the physical site assessment and submits findings.</p>
        <div class="model-verify"><strong>Verification:</strong> Survey form and photos submitted via the platform. Industrial and commercial segments.</div>
      </div>

      <div class="model-card reveal reveal-d4">
        <div class="model-tag billable">Billable</div>
        <div class="model-milestone">Contract Signed</div>
        <p class="model-trigger">Client signs the installation agreement or letter of intent.</p>
        <div class="model-verify"><strong>Verification:</strong> Signed copy shared with PowerRoof within 48 hours. All 4 segments.</div>
      </div>
    </div>

    <div class="model-note reveal">
      <div class="model-note-inner">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="8" cy="8" r="7"/><path d="M8 5v3M8 11h.01"/></svg>
        Discovery and enrichment run continuously in the background — platform cost, never billed to you.
      </div>
    </div>
  </div>
</section>

<!-- ─── CTA / CONTACT ─── -->
<section class="cta-section" id="contact">
  <div class="container">
    <div class="cta-card reveal">
      <h2>Request an<br>Intelligence Dossier</h2>
      <p>Pre-engineering analytical assessment for your facility — ATAP eligibility, load-matched sizing, SMP exposure modelling, and 25-year indicative financial projection.</p>

      <form class="cta-form" id="inquiry-form">
        <div class="cta-row">
          <input type="text" name="company" class="cta-input" placeholder="Company name" required />
          <input type="text" name="name" class="cta-input" placeholder="Your name" required />
        </div>
        <div class="cta-row">
          <input type="text" name="phone" class="cta-input" placeholder="WhatsApp number" required />
          <input type="email" name="email" class="cta-input" placeholder="Email address" required />
        </div>
        <select name="facility_type" class="cta-input" required>
          <option value="">Select facility type...</option>
          <option value="factory">Factory / Manufacturing</option>
          <option value="warehouse">Warehouse / Logistics Hub</option>
          <option value="commercial">Commercial Building</option>
          <option value="other">Other C&I Facility</option>
        </select>
        <input type="text" name="max_demand" class="cta-input" placeholder="Contracted Maximum Demand (kW), if known" />
        <textarea name="notes" class="cta-input" placeholder="Brief description of your facility — location, operating hours, approximate monthly TNB bill..."></textarea>

        <!-- Legal checkboxes — required by Dossier Service Agreement + PDPA -->
        <div style="display:flex;flex-direction:column;gap:10px;text-align:left;margin-top:4px">
          <label style="display:flex;gap:10px;align-items:flex-start;font-size:13px;color:var(--text-secondary);cursor:pointer;line-height:1.5">
            <input type="checkbox" name="scope_ack" required style="margin-top:3px;accent-color:var(--accent);flex-shrink:0" />
            <span>I acknowledge that the Intelligence Dossier is a <strong style="color:var(--text-primary)">pre-engineering analytical assessment only</strong> — it does not constitute certified engineering, financial advice, or a performance guarantee. Independent professional advice should be obtained before committing capital.</span>
          </label>
          <label style="display:flex;gap:10px;align-items:flex-start;font-size:13px;color:var(--text-secondary);cursor:pointer;line-height:1.5">
            <input type="checkbox" name="pdpa_consent" required style="margin-top:3px;accent-color:var(--accent);flex-shrink:0" />
            <span>I consent to the collection and processing of my personal data in accordance with PowerRoof's <a href="/privacy" style="color:var(--accent);text-decoration:underline">Privacy Policy</a> and Malaysia's Personal Data Protection Act 2010 (PDPA).</span>
          </label>
        </div>

        <button type="submit" class="cta-submit" id="submit-btn">Request Dossier →</button>
        <p id="form-status" style="text-align:center; font-size:14px; margin-top:8px; display:none;"></p>
      </form>
    </div>
  </div>
</section>

<!-- ─── FOOTER ─── -->
<footer>
  <div class="container">
    <div class="footer-inner">
      <div class="footer-logo">
        <svg width="18" height="18" viewBox="0 0 26 26" fill="none" style="vertical-align: -2px; margin-right: 4px;">
          <path d="M3 14L13 5L23 14" stroke="#525252" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M14 13L11 18H15L12 23" stroke="#525252" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Power<span>Roof</span>.my
      </div>
      <div class="footer-copy">© 2026 SME Cloud Sdn Bhd · All rights reserved</div>
      <div class="footer-links">
        <a href="/disclaimer">Disclaimer</a>
        <a href="/terms">Terms of Use</a>
        <a href="/privacy">Privacy Policy</a>
        <a href="/intelligence">Intelligence Library</a>
      </div>
    </div>
  </div>
</footer>

<script>
  // Nav scroll behavior
  const nav = document.getElementById('nav');
  window.addEventListener('scroll', () => {
    nav.classList.toggle('scrolled', window.scrollY > 20);
  });

  // Scroll reveal with IntersectionObserver
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -60px 0px' });

  document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

  // Contact form submission
  const form = document.getElementById('inquiry-form');
  const statusEl = document.getElementById('form-status');
  const submitBtn = document.getElementById('submit-btn');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const fd = new FormData(form);
    const data = Object.fromEntries(fd.entries());

    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';
    statusEl.style.display = 'none';

    try {
      // POST to PowerRoof dossier request endpoint
      const res = await fetch('/api/v1/leads/intake', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          company_name: data.company,
          contact_name: data.name,
          phone: data.phone,
          email: data.email,
          facility_type: data.facility_type,
          max_demand: data.max_demand,
          notes: data.notes,
          source: 'powerroof_dossier_request',
        }),
      });

      if (res.ok) {
        statusEl.textContent = 'Dossier request received — we\'ll confirm scope and timeline within 48 hours.';
        statusEl.style.color = '#22C55E';
        statusEl.style.display = 'block';
        form.reset();
      } else {
        throw new Error('Server error');
      }
    } catch {
      statusEl.textContent = 'Something went wrong. WhatsApp us at +60 12-345 6789 instead.';
      statusEl.style.color = '#EF4444';
      statusEl.style.display = 'block';
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Send Inquiry →';
    }
  });
</script>

<!-- ─── DEMO ACCESS MODAL ─── -->
<div class="modal-overlay" id="demo-modal">
  <div class="modal-box" style="position:relative;">
    <button class="modal-close" id="modal-close">&times;</button>
    <h3>Partner Demo Access</h3>
    <p>Enter your pilot access code to view the live platform demo.</p>
    <form id="demo-form" autocomplete="off">
      <input type="password" class="modal-input" id="demo-pass" placeholder="Access code" autofocus />
      <div class="modal-error" id="demo-error"></div>
      <button type="submit" class="modal-submit">Access Demo →</button>
    </form>
  </div>
</div>

<script>
  // Demo access gate
  const DEMO_HASH = '7ac2a8cdba5b75250bd14a322a6c11a722b0aaa915c44d6a58739124cecdd6c1'; // SHA-256 of 'voltek2026'
  const modal = document.getElementById('demo-modal');
  const demoForm = document.getElementById('demo-form');
  const demoPass = document.getElementById('demo-pass');
  const demoError = document.getElementById('demo-error');
  const modalClose = document.getElementById('modal-close');

  // Intercept "Start Pilot" nav CTA and hero CTA
  document.querySelectorAll('a[href="#contact"].nav-cta, a.btn-primary[href="#contact"]').forEach(btn => {
    // Only intercept the nav "Start Pilot" button
    if (btn.classList.contains('nav-cta')) {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        modal.classList.add('active');
        setTimeout(() => demoPass.focus(), 100);
      });
    }
  });

  modalClose.addEventListener('click', () => {
    modal.classList.remove('active');
    demoPass.value = '';
    demoError.textContent = '';
    demoPass.classList.remove('error');
  });

  modal.addEventListener('click', (e) => {
    if (e.target === modal) modalClose.click();
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) modalClose.click();
  });

  async function sha256(message) {
    const msgBuffer = new TextEncoder().encode(message);
    const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
  }

  demoForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const val = demoPass.value.trim();
    if (!val) {
      demoError.textContent = 'Please enter your access code.';
      demoPass.classList.add('error');
      return;
    }
    const hash = await sha256(val);
    if (hash === DEMO_HASH) {
      demoError.textContent = '';
      demoPass.classList.remove('error');
      window.location.href = '/voltek-demo.html';
    } else {
      demoError.textContent = 'Invalid access code. Contact your PowerRoof representative.';
      demoPass.classList.add('error');
      demoPass.select();
    }
  });
</script>

</body>
</html>
